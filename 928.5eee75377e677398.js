"use strict";(self.webpackChunkfront_nutri=self.webpackChunkfront_nutri||[]).push([[928],{928:(T,c,n)=>{n.r(c),n.d(c,{AuthModule:()=>L});var l=n(9808),m=n(1741),r=n(3075),t=n(5e3),f=n(7556),p=n(7261),d=n(3954),s=n(9224),u=n(7322),h=n(7531),v=n(7423);function C(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Nombre de usuario inv\xe1lido"),t.qZA())}function A(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Constrase\xf1a no v\xe1lida"),t.qZA())}const Z=[{path:"",children:[{path:"login",component:(()=>{class o{constructor(e,i,g,b){this.authService=e,this.formBuilder=i,this.router=g,this.snack=b,this.hide=!0}ngOnInit(){this.formLogin=this.formBuilder.group({username:["",[r.kI.required]],password:["",[r.kI.required]]}),this.setTema()}login(){this.authService.iniciarSesion(this.formLogin.value.username,this.formLogin.value.password).subscribe({next:e=>{localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token),localStorage.setItem("expires_in",e.expires_in),localStorage.setItem("refresh_expires_in",e.refresh_expires_in),this.router.navigate(["/inicio"])},error:e=>{this.snack.open("Usuario o Contrase\xf1a incorrectos","Ok",{duration:3e3})}})}validarCampos(e){return this.formLogin.controls[e].errors&&this.formLogin.controls[e].touched}setTema(){const e=document.getElementsByTagName("body")[0];let i=localStorage.getItem("theme");e.classList.add(i)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.e),t.Y36(r.qu),t.Y36(m.F0),t.Y36(p.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:23,vars:3,consts:[[2,"background-image","url(assets/images/catalogoAlimentos.jpg)","background-repeat","no-repeat","background-size","cover","background-attachment","fixed","height","100%"],["cols","1","rowHeight","600px"],[1,"mat-elevation-z13"],[3,"formGroup","submit"],["appearance","standard"],["matInput","","formControlName","username"],[4,"ngIf"],["matInput","","type","password","formControlName","password"],["mat-raised-button","","color","primary",1,"btn-center"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"mat-grid-list",1)(2,"mat-grid-tile")(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),t._uU(6,"NUTRILAIF"),t.qZA()(),t.TgZ(7,"mat-card-content")(8,"form",3),t.NdJ("submit",function(){return i.login()}),t.TgZ(9,"mat-form-field",4)(10,"mat-label"),t._uU(11,"Nombre de usuario"),t.qZA(),t._UZ(12,"input",5),t.YNc(13,C,2,0,"mat-error",6),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"mat-form-field",4)(16,"mat-label"),t._uU(17,"Contrase\xf1a"),t.qZA(),t._UZ(18,"input",7),t.YNc(19,A,2,0,"mat-error",6),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"button",8),t._uU(22,"Iniciar Sesi\xf3n"),t.qZA()()()()()()()),2&e&&(t.xp6(8),t.Q6J("formGroup",i.formLogin),t.xp6(5),t.Q6J("ngIf",i.validarCampos("username")),t.xp6(6),t.Q6J("ngIf",i.validarCampos("password")))},directives:[d.Il,d.DX,s.a8,s.dk,s.n5,s.dn,r._Y,r.JL,r.sg,u.KE,u.hX,h.Nt,r.Fj,r.JJ,r.u,l.O5,u.TO,v.lW],styles:[".btn-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:20px auto}mat-card[_ngcontent-%COMP%]{height:275px;width:300px;opacity:.9}body[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card-header[_ngcontent-%COMP%]{justify-content:center;padding-bottom:20px}"]}),o})()}]}];let y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.Bz.forChild(Z)],m.Bz]}),o})();var I=n(4466);let L=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,I.m,y]]}),o})()}}]);