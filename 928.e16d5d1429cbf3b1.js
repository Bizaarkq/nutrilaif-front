"use strict";(self.webpackChunkfront_nutri=self.webpackChunkfront_nutri||[]).push([[928],{928:(M,c,e)=>{e.r(c),e.d(c,{AuthModule:()=>x});var l=e(9808),m=e(1741),r=e(3075),t=e(5e3),p=e(7556),f=e(7261),d=e(3954),s=e(9224),u=e(7322),h=e(7531),v=e(7423),C=e(5245),Z=e(773);function A(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Nombre de usuario inv\xe1lido"),t.qZA())}function L(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Constrase\xf1a no v\xe1lida"),t.qZA())}function T(o,a){1&o&&(t.TgZ(0,"mat-icon"),t._UZ(1,"mat-spinner",9),t.qZA())}const y=[{path:"",children:[{path:"login",component:(()=>{class o{constructor(n,i,g,U){this.authService=n,this.formBuilder=i,this.router=g,this.snack=U,this.loading=!1,this.hide=!0}ngOnInit(){this.formLogin=this.formBuilder.group({username:["",[r.kI.required]],password:["",[r.kI.required]]}),this.setTema()}login(){this.loading=!0,this.authService.iniciarSesion(this.formLogin.value.username,this.formLogin.value.password).subscribe({next:n=>{localStorage.setItem("access_token",n.access_token),localStorage.setItem("expires_in",n.expires_in),this.router.navigate(["/inicio"]),this.loading=!1,this.snack.open("Bienvenido","Ok",{duration:3e3})},error:n=>{this.snack.open("Usuario o Contrase\xf1a incorrectos","Ok",{duration:3e3}),this.loading=!1}})}validarCampos(n){return this.formLogin.controls[n].errors&&this.formLogin.controls[n].touched}setTema(){const n=document.getElementsByTagName("body")[0];let i=localStorage.getItem("theme");n.classList.add(i)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(p.e),t.Y36(r.qu),t.Y36(m.F0),t.Y36(f.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:24,vars:4,consts:[[2,"background-image","url(assets/images/catalogoAlimentos.jpg)","background-repeat","no-repeat","background-size","cover","background-attachment","fixed","height","100%"],["cols","1","rowHeight","600px"],[1,"mat-elevation-z13"],[3,"formGroup","submit"],["appearance","standard"],["matInput","","formControlName","username"],[4,"ngIf"],["matInput","","type","password","formControlName","password"],["mat-raised-button","","color","primary",1,"btn-center"],["color","accent","diameter","20"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"mat-grid-list",1)(2,"mat-grid-tile")(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),t._uU(6,"NUTRILAIF"),t.qZA()(),t.TgZ(7,"mat-card-content")(8,"form",3),t.NdJ("submit",function(){return i.login()}),t.TgZ(9,"mat-form-field",4)(10,"mat-label"),t._uU(11,"Nombre de usuario"),t.qZA(),t._UZ(12,"input",5),t.YNc(13,A,2,0,"mat-error",6),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"mat-form-field",4)(16,"mat-label"),t._uU(17,"Contrase\xf1a"),t.qZA(),t._UZ(18,"input",7),t.YNc(19,L,2,0,"mat-error",6),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"button",8),t.YNc(22,T,2,0,"mat-icon",6),t._uU(23,"Iniciar Sesi\xf3n"),t.qZA()()()()()()()),2&n&&(t.xp6(8),t.Q6J("formGroup",i.formLogin),t.xp6(5),t.Q6J("ngIf",i.validarCampos("username")),t.xp6(6),t.Q6J("ngIf",i.validarCampos("password")),t.xp6(3),t.Q6J("ngIf",i.loading))},directives:[d.Il,d.DX,s.a8,s.dk,s.n5,s.dn,r._Y,r.JL,r.sg,u.KE,u.hX,h.Nt,r.Fj,r.JJ,r.u,l.O5,u.TO,v.lW,C.Hw,Z.Ou],styles:[".btn-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:20px auto}mat-card[_ngcontent-%COMP%]{height:275px;width:300px;opacity:.9}body[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card-header[_ngcontent-%COMP%]{justify-content:center;padding-bottom:20px}"]}),o})()}]}];let I=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.Bz.forChild(y)],m.Bz]}),o})();var b=e(4466);let x=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,b.m,I]]}),o})()}}]);